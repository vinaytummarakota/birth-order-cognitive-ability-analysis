knitr::opts_chunk$set(echo = TRUE)
getwd()
df <- read.csv("../00_raw_nlsy_data/birth_order_analysis_vars.csv")
View(df)
library(tidyverse)
View(df)
colnames(df)
df %>% rename(!!!set_names(c("R0000100"), c("sadfdsf")))
df <- read.csv("../00_raw_nlsy_data/birth_order_analysis_vars.csv")
new_cols <- c(
"case_id",
"num_older_siblings",
"sample_id",
"race",
"sex",
"month_of_birth",
"year_of_birth",
"sampling_weight",
"asvab_section_1_general_science",
"asvab_section_2_arithmetic_reasoning",
"asvab_section_3_word_knowledge",
"asvab_section_4_paragraph_comprehension",
"asvab_section_5_numerical_operations",
"asvab_section_6_coding_speed",
"asvab_section_7_auto_and_shop_info",
"asvab_section_8_mathematics_knowledge",
"asvab_section_9_mechanical_comp",
"asvab_section_10_electronics_info",
"age_at_interview"
)
clean_df(df, colnames(df), new_cols)
source("./helper_functions")
source("./01_helper_functions.R")
df <- read.csv("../00_raw_nlsy_data/birth_order_analysis_vars.csv")
new_cols <- c(
"case_id",
"num_older_siblings",
"sample_id",
"race",
"sex",
"month_of_birth",
"year_of_birth",
"sampling_weight",
"asvab_section_1_general_science",
"asvab_section_2_arithmetic_reasoning",
"asvab_section_3_word_knowledge",
"asvab_section_4_paragraph_comprehension",
"asvab_section_5_numerical_operations",
"asvab_section_6_coding_speed",
"asvab_section_7_auto_and_shop_info",
"asvab_section_8_mathematics_knowledge",
"asvab_section_9_mechanical_comp",
"asvab_section_10_electronics_info",
"age_at_interview"
)
clean_df(df, colnames(df), new_cols)
knitr::opts_chunk$set(echo = TRUE)
source("./01_helper_functions.R")
df <- read.csv("../00_raw_nlsy_data/birth_order_analysis_vars.csv")
new_cols <- c(
"case_id",
"num_older_siblings",
"sample_id",
"race",
"sex",
"month_of_birth",
"year_of_birth",
"month_of_1981_interview",
"sampling_weight",
"asvab_section_1_general_science",
"asvab_section_2_arithmetic_reasoning",
"asvab_section_3_word_knowledge",
"asvab_section_4_paragraph_comprehension",
"asvab_section_5_numerical_operations",
"asvab_section_6_coding_speed",
"asvab_section_7_auto_and_shop_info",
"asvab_section_8_mathematics_knowledge",
"asvab_section_9_mechanical_comp",
"asvab_section_10_electronics_info",
"age_at_interview"
)
clean_df(df, colnames(df), new_cols)
clean_df <- function(df, old_cols, new_cols, dropped_cols) {
df %>%
rename(!!!set_names(old_cols, new_cols)) %>%
select(-dropped_cols)
}
# these columns automatically accompany the NLSY data but will not be used in this analysis
dropped_cols <- c(
"race",
"sex"
)
clean_df(df, colnames(df), new_cols, dropped_cols)
clean_df <- function(df, old_cols, new_cols, dropped_cols) {
df %>%
rename(!!!set_names(old_cols, new_cols)) %>%
select(-all_of(dropped_cols))
}
clean_df(df, colnames(df), new_cols, dropped_cols)
estimate_age <- function(month_of_birth, year_of_birth, month_of_1981_interview) {
birth_month <- year_of_birth * 12 + month_of_birth
interview_month <- 1981 * 12 + month_of_1981_interview
return((interview_month - birth_month) / 12)
}
estimate_age(11, 65, 12)
estimate_age <- function(month_of_birth, year_of_birth, month_of_1981_interview) {
birth_month <- year_of_birth * 12 + month_of_birth
# because the {year_of_birth} variable is stored as a two-digit integer, we use '81' when calculating the interview month instead of 1981
interview_month <- 81 * 12 + month_of_1981_interview
return((interview_month - birth_month) / 12)
}
clear
estimate_age(11, 65, 12)
?between
knitr::opts_chunk$set(echo = TRUE)
source("./01_helper_functions.R")
df <- read.csv("../00_raw_nlsy_data/birth_order_analysis_vars.csv")
new_cols <- c(
"case_id",
"num_older_siblings",
"sample_id",
"race",
"sex",
"month_of_birth",
"year_of_birth",
"month_of_1981_interview",
"sampling_weight",
"asvab_section_1_general_science",
"asvab_section_2_arithmetic_reasoning",
"asvab_section_3_word_knowledge",
"asvab_section_4_paragraph_comprehension",
"asvab_section_5_numerical_operations",
"asvab_section_6_coding_speed",
"asvab_section_7_auto_and_shop_info",
"asvab_section_8_mathematics_knowledge",
"asvab_section_9_mechanical_comp",
"asvab_section_10_electronics_info",
"age_at_interview"
)
# these columns automatically accompany the NLSY data but will not be used in this analysis
dropped_cols <- c(
"race",
"sex"
)
clean_df(df, colnames(df), new_cols, dropped_cols)
knitr::opts_chunk$set(echo = TRUE)
source("./01_helper_functions.R")
df <- read.csv("../00_raw_nlsy_data/birth_order_analysis_vars.csv")
new_cols <- c(
"case_id",
"num_older_siblings",
"sample_id",
"race",
"sex",
"month_of_birth",
"year_of_birth",
"month_of_1981_interview",
"sampling_weight",
"asvab_section_1_general_science",
"asvab_section_2_arithmetic_reasoning",
"asvab_section_3_word_knowledge",
"asvab_section_4_paragraph_comprehension",
"asvab_section_5_numerical_operations",
"asvab_section_6_coding_speed",
"asvab_section_7_auto_and_shop_info",
"asvab_section_8_mathematics_knowledge",
"asvab_section_9_mechanical_comp",
"asvab_section_10_electronics_info",
"age_at_interview"
)
# these columns automatically accompany the NLSY data but will not be used in this analysis
dropped_cols <- c(
"race",
"sex"
)
cleaned_df <- clean_df(df, colnames(df), new_cols, dropped_cols)
cleaned_df.to_csv("cleaned_nlsy79_data.csv")
?to_csv
?to.csv
?write.csv
write.csv(cleaned_df, "cleaned_nlsy79_data.csv", row.names = FALSE)
install.packages("NlsyLinks")
library(NlsyLinks)
?Links79
?Links79Pair
subset(Links79Pair, RelationshipPath == 'Gen1Housemates', R = 0.5)
subset(Links79Pair, RelationshipPath == 'Gen1Housemates', R = 0.5).length
len(subset(Links79Pair, RelationshipPath == 'Gen1Housemates', R = 0.5))
nrow(subset(Links79Pair, RelationshipPath == 'Gen1Housemates', R = 0.5))
